window.fathom=function(){var fathomScript=document.currentScript||document.querySelector('script[src*="script.js"][site]')||document.querySelector("script[site]"),siteId=fathomScript.getAttribute("site"),honorDNT=!1,auto=!0,canonical=!0,excludedDomains=[],allowedDomains=[];"true"==fathomScript.getAttribute("honor-dnt")&&(honorDNT="doNotTrack"in navigator&&"1"===navigator.doNotTrack),"false"==fathomScript.getAttribute("auto")&&(auto=!1),"false"==fathomScript.getAttribute("canonical")&&(canonical=!1),fathomScript.getAttribute("excluded-domains")&&(excludedDomains=fathomScript.getAttribute("excluded-domains").split(",")),fathomScript.getAttribute("included-domains")?allowedDomains=fathomScript.getAttribute("included-domains").split(","):fathomScript.getAttribute("allowed-domains")&&(allowedDomains=fathomScript.getAttribute("allowed-domains").split(","));function trackPageview(){window.fathom.trackPageview()}function spaHistory(){var pushState,replaceState;void 0!==history&&(pushState=history.pushState,history.pushState=function(){var ret=pushState.apply(history,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchangefathom")),ret},replaceState=history.replaceState,history.replaceState=function(){var ret=replaceState.apply(history,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchangefathom")),ret},window.addEventListener("popstate",function(){window.dispatchEvent(new Event("locationchangefathom"))}),window.addEventListener("locationchangefathom",trackPageview))}function spaHash(){window.addEventListener("hashchange",trackPageview)}if(fathomScript.getAttribute("spa"))switch(fathomScript.getAttribute("spa")){case"history":spaHistory();break;case"hash":spaHash();break;case"auto":(void 0!==history?spaHistory:spaHash)()}var scriptUrl,trackerUrl="https://img3.usefathom.com/";function encodeParameters(params){return"?"+Object.keys(params).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(params[k])}).join("&")}function getQueryParam(name){var match=new RegExp("[?&]"+name+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))}function trackingEnabled(){var fathomIsBlocked=!1;try{fathomIsBlocked=window.localStorage&&window.localStorage.getItem("blockFathomTracking")}catch(err){}var prerender="visibilityState"in document&&"prerender"===document.visibilityState,clientSideBot=/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent),isExcludedDomain=-1<excludedDomains.indexOf(window.location.hostname),isAllowedDomain=!(0<allowedDomains.length)||-1<allowedDomains.indexOf(window.location.hostname);return!(fathomIsBlocked||prerender||clientSideBot||honorDNT||isExcludedDomain)&&isAllowedDomain}return fathomScript.src.indexOf("cdn.usefathom.com")<0&&((scriptUrl=document.createElement("a")).href=fathomScript.src,trackerUrl="https://"+scriptUrl.hostname+"/"),auto&&setTimeout(function(){window.fathom.trackPageview()}),{send:function(params){var img;trackingEnabled()&&((img=document.createElement("img")).setAttribute("alt",""),img.setAttribute("aria-hidden","true"),img.style.position="absolute",img.src=trackerUrl+encodeParameters(params),img.addEventListener("load",function(){img.parentNode.removeChild(img)}),document.body.appendChild(img))},beacon:function(params){trackingEnabled()&&navigator.sendBeacon(trackerUrl+encodeParameters(params))},trackPageview:function(params){void 0===params&&(params={});var a,hostname,screenWidth,screenHeight,location=window.location;void 0===params.url?canonical&&document.querySelector('link[rel="canonical"][href]')&&((a=document.createElement("a")).href=document.querySelector('link[rel="canonical"][href]').href,location=a):(location=document.createElement("a")).href=params.url,""!==location.host&&(hostname=location.protocol+"//"+location.hostname,screenWidth=window.screen.width||document.documentElement.clientWidth||document.body.clientWidth,screenHeight=window.screen.height||document.documentElement.clientHeight||document.body.clientHeight,this.send({p:location.pathname+location.search||"/",h:hostname,r:params.referrer||document.referrer.indexOf(hostname)<0?document.referrer:"",sid:siteId,res:screenWidth+"x"+screenHeight,r2:getQueryParam("ref")||getQueryParam("utm_source")}))},trackGoal:function(code,cents){this.beacon({gcode:code,gval:cents})},blockTrackingForMe:function(){window.localStorage?(window.localStorage.setItem("blockFathomTracking",!0),alert("You have blocked Fathom for yourself on this website")):alert("Your browser doesn't support localStorage.")},enableTrackingForMe:function(){window.localStorage&&(window.localStorage.removeItem("blockFathomTracking"),alert("Fathom has been enabled for your device"))}}}();